<div [@routerTransition]>
    <div class="row margin-bottom-5">
        <div class="col-xs-9">
            <div class="page-head">
                <div class="page-title">
                    <h1>
                        <span>Designer Dashboard</span> <small>statistics and reports</small>
                    </h1>
                </div>
            </div>
        </div>
        <div class="col-xs-3">
            <div class="form-group form-md-line-input form-md-floating-label edited row" style="margin-bottom: 0;">
                <div class="col-md-10">
                    <div class="input-group">
                        <div class="input-group-control">

                            <date-range-picker name="DesignerDashDateRangePicker"
                                               [(startDate)]="dashdateRangePickerStartDate"
                                               [(endDate)]="dashdateRangePickerEndDate"
                                               [allowFutureDate]="true">
                            </date-range-picker>

                        </div>
                        <span class="input-group-btn btn-right">
                            <button class="btn green-haze" (click)="dashsubmitDateRange()" type="button">{{l("Submit")}}</button>
                        </span>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <div class="row">
        <div class="col-md-12">
            <div class="portlet light" style="background-color: #444d58 !important;">
                <ng2-carousel-3d [slides]="slides" [options]="options2" class="col-12" #carousel>
                    <ng2-carousel-3d-slide *ngFor="let slide of slides; let i = index" (click)="slideClicked(i)">
                        <img class="slide-img" src="{{slide.src}}" width= "310" height= "220" style="width: 50%;height: 100%;float: left;" alt=""/>
                        <div style="width: 50%;height: 100%;float: right;background-color: #444d58;text-align: center;color: white;line-height: 23px;">
                            <br><h4><b>{{slide.name}}</b></h4>
                            <h5 style="margin: 0">{{slide.email}}</h5>
                            <br>
                        </div>
                    </ng2-carousel-3d-slide>
                </ng2-carousel-3d>
            </div>
        </div>
    </div>

    <!-- <div class="row margin-top-10">
        <div class="col-lg-2 col-md-2 col-sm-6 col-xs-12">
                <div class="dashboard-stat2">
                    <div class="display">
                        <div class="number">
                            <small>Total Opportunities</small>
                            <h3 class="font-green-sharp">
                                <span counto [step]="30"
                                      [duration]="1"
                                      [countFrom]="0"
                                      [countTo]="dashboardHeaderStats.totalProfit"
                                      (countoChange)="dashboardHeaderStats.totalProfitCounter = $event">
                                      {{AllOutput.inquiryCount}}
                                 </span>
                            </h3>
                        </div>
                        <div class="icon">
                            <i class="icon-pie-chart"></i>
                        </div>
                    </div>
                    <div class="progress-info">
                      <hr>
                        <div class="status">
                            <div class="status-title">
                               TOTAL PROFIT
                            </div>
                            <div class="status-number">
                                <span counto
                                      [step]="10"
                                      [duration]="1"
                                      [countFrom]="0"
                                      [countTo]="dashboardHeaderStats.totalProfitChange"
                                      (countoChange)="dashboardHeaderStats.totalProfitChangeCounter = $event">
                                      {{AllOutput.sTotal}}
                                </span> AED
                            </div>
                        </div>
                    </div>
                </div>
      </div>
      <div class="col-lg-2 col-md-2 col-sm-6 col-xs-12">
            <div class="dashboard-stat2">
                <div class="display">
                    <div class="number">
                        <small>Quoted Opportunities</small>
                        <h3 class="font-green-sharp">
                            <span counto [step]="30"
                                  [duration]="1"
                                  [countFrom]="0"
                                  [countTo]="dashboardHeaderStats.totalProfit"
                                  (countoChange)="dashboardHeaderStats.totalProfitCounter = $event">
                                  {{QuotOutput.inquiryCount}}
                             </span>
                        </h3>
                    </div>
                    <div class="icon">
                        <i class="icon-pie-chart"></i>
                    </div>
                </div>
                <div class="progress-info">
                  <hr>
                    <div class="status">
                        <div class="status-title">
                           TOTAL PROFIT
                        </div>
                        <div class="status-number">
                            <span counto
                                  [step]="10"
                                  [duration]="1"
                                  [countFrom]="0"
                                  [countTo]="dashboardHeaderStats.totalProfitChange"
                                  (countoChange)="dashboardHeaderStats.totalProfitChangeCounter = $event">
                                  {{QuotOutput.sTotal}}
                            </span> AED
                        </div>
                    </div>
                </div>
            </div>
  </div>
    <div class="col-lg-2 col-md-2 col-sm-6 col-xs-12">
        <div class="dashboard-stat2">
            <div class="display">
                <div class="number">
                    <small>LIVE Opportunities</small>
                    <h3 class="font-green-sharp">
                        <span counto [step]="30"
                              [duration]="1"
                              [countFrom]="0"
                              [countTo]="dashboardHeaderStats.totalProfit"
                              (countoChange)="dashboardHeaderStats.totalProfitCounter = $event">
                              109                            
                            </span>
                    </h3>
                </div>
                <div class="icon">
                    <i class="icon-pie-chart"></i>
                </div>
            </div>
            <div class="progress-info">
              <hr>
                <div class="status">
                    <div class="status-title">
                       TOTAL PROFIT
                    </div>
                    <div class="status-number">
                        <span counto
                              [step]="10"
                              [duration]="1"
                              [countFrom]="0"
                              [countTo]="dashboardHeaderStats.totalProfitChange"
                              (countoChange)="dashboardHeaderStats.totalProfitChangeCounter = $event">
                              109,890,50.00 
                        </span> AED
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-2 col-md-2 col-sm-6 col-xs-12">
            <div class="dashboard-stat2">
                <div class="display">
                    <div class="number">
                        <small>Opportunities Won</small>
                        <h3 class="font-green-sharp">
                            <span counto [step]="30"
                                  [duration]="1"
                                  [countFrom]="0"
                                  [countTo]="dashboardHeaderStats.totalProfit"
                                  (countoChange)="dashboardHeaderStats.totalProfitCounter = $event">
                                  {{WonOutput.inquiryCount}}                            
                                </span>
                        </h3>
                    </div>
                    <div class="icon">
                        <i class="icon-pie-chart"></i>
                    </div>
                </div>
                <div class="progress-info">
                  <hr>
                    <div class="status">
                        <div class="status-title">
                           TOTAL PROFIT
                        </div>
                        <div class="status-number">
                            <span counto
                                  [step]="10"
                                  [duration]="1"
                                  [countFrom]="0"
                                  [countTo]="dashboardHeaderStats.totalProfitChange"
                                  (countoChange)="dashboardHeaderStats.totalProfitChangeCounter = $event">
                                  {{WonOutput.sTotal}}
                            </span> AED
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                <div class="dashboard-stat2">
                    <div class="display">
                        <div class="number">
                            <small>Opportunities Lost</small>
                            <h3 class="font-green-sharp">
                                <span counto [step]="30"
                                      [duration]="1"
                                      [countFrom]="0"
                                      [countTo]="dashboardHeaderStats.totalProfit"
                                      (countoChange)="dashboardHeaderStats.totalProfitCounter = $event">
                                      {{LostOutput.inquiryCount}} | {{LostOutput.sTotal}}                             
                                </span><br> 
                                <span counto [step]="30"
                                [duration]="1"
                                [countFrom]="0"
                                [countTo]="dashboardHeaderStats.totalProfit"
                                (countoChange)="dashboardHeaderStats.totalProfitCounter = $event">
                                {{LostOutput.inquiryCount}} | {{LostOutput.sTotal}}                              
                          </span>
                            </h3>
                        </div>
                        <div class="icon">
                            <i class="icon-pie-chart"></i>
                        </div>
                    </div>
                </div>
            </div>               
                <div class="col-lg-2 col-md-2 col-sm-6 col-xs-12">
                        <div class="dashboard-stat2">
                            <div class="display">
                                <div class="number">
                                    <small>Conversion Rate</small>
                                    <h3 class="font-green-sharp">
                                        <span counto [step]="30"
                                              [duration]="1"
                                              [countFrom]="0"
                                              [countTo]="dashboardHeaderStats.totalProfit"
                                              (countoChange)="dashboardHeaderStats.totalProfitCounter = $event">
                                              {{Concersionratio}} %                           
                                            </span>
                                    </h3>
                                </div>
                                <div class="icon">
                                    <i class="icon-pie-chart"></i>
                                </div>
                            </div>
                            
                        </div>
                    </div>
 </div> -->

 <div class="row">
    <div class="col-md-6">
        <div class="portlet light ">
            <div class="portlet-title tabbable-line">
                <div class="caption">
                    <i class="icon-bubbles font-dark hide"></i>
                    <span class="caption-subject font-green-haze bold uppercase">CLOSING SOON</span>
                   <span *ngIf="clsdata == 1" class="caption-subject font-green-haze bold uppercase"> ({{Closure.thisWeekClosureInquiry?.length}}) : {{Closure.thisweekValue}} AED</span>
                    <span *ngIf="clsdata == 3" class="caption-subject font-green-haze bold uppercase"> ({{Closure.thisMonthClosureInquiry?.length}}) : {{Closure.monthValue}} AED</span>
                    <span *ngIf="clsdata == 2" class="caption-subject font-green-haze bold uppercase"> ({{Closure.nextWeekClosureInquiry?.length}}) : {{Closure.nextWeekValue}} AED</span>
                    <span *ngIf="clsdata == 4" class="caption-subject font-green-haze bold uppercase"> ({{Closure.overDueClosureInquiry?.length}}) : {{Closure.overDueValue}} AED</span>
                </div>                                  
                <div class="actions">
                    <div class="btn-group btn-group-devided" data-toggle="buttons">
                            <label class="btn btn-transparent btn-no-border blue-oleo btn-outline btn-circle btn-sm active" (click)="ClosureClick(4)">
                            <input type="radio" name="options" class="toggle" id="option3">Over Due</label>
                            <label class="btn btn-transparent btn-no-border blue-oleo btn-outline btn-circle btn-sm" (click)="ClosureClick(3)">
                            <input type="radio" name="options" class="toggle" id="option3">This Month</label>
                            <label class="btn btn-transparent btn-no-border blue-oleo btn-outline btn-circle btn-sm" (click)="ClosureClick(1)">
                            <input type="radio" name="options" class="toggle" id="option3">This Week</label>
                            <label class="btn btn-transparent btn-no-border blue-oleo btn-outline btn-circle btn-sm" (click)="ClosureClick(2)">
                            <input type="radio" name="options" class="toggle" id="option3">Next Week</label>
                    </div>
                </div>
            </div>
            <div id="style-4" class="portlet-body scrollab">
                <div class="tab-content">
                    <div *ngIf="clsdata == 2">
                        <!-- BEGIN: Comments -->
                        <div class="general-item-list">
                                <div *ngFor="let clos of Closure.nextWeekClosureInquiry" class="item">
                                    <div class="item-head">
                                        <div class="item-details">
                                                <img class="item-pic rounded" src="{{path+clos.salesManImage}}">
                                            <a (click) = "GotoLead(clos)" class="item-name primary-link">{{clos.subMmissionId}}</a>
                                            <span class="item-label">{{clos.closureDate}} ({{clos.stageName}})</span>&nbsp;
                                            <span class="item-label" style="color: black;"><b>{{clos.total}}</b></span>&nbsp;
                                            <span class="item-label"> inactive {{clos.lastActivity| amTimeAgo}} </span>
                                        </div>
                                        <span class="item-status">
                                            <span class="badge badge-empty badge-success"></span> &nbsp;{{clos.mileStone}} ({{clos.stage}} %)
                                            <span  *ngIf="clos.stared == true" style="cursor: pointer;"  data-placement="top" tooltip="Starred">
                                                <i class="fa fa-star" style="color: yellow;" aria-hidden="true"></i>
                                            </span>
                                        </span>
                                    </div>
                                    <div class="item-body"> <b>{{clos.inquiryName}}</b> <b class="font-green-haze">{{clos.company}}</b> {{clos.remarks}} </div>
                                </div>
                                </div>
                        <!-- END: Comments -->
                    </div>
                    <div *ngIf="clsdata == 1">
                        <!-- BEGIN: Comments -->
                        <div class="general-item-list">
                                <div *ngFor="let clst of Closure.thisWeekClosureInquiry" class="item">
                                        <div class="item-head">
                                            <div class="item-details">
                                                <img class="item-pic rounded" src="{{path+clst.salesManImage}}">
                                                <a (click) = "GotoLead(clst)" class="item-name primary-link">{{clst.subMmissionId}}</a>
                                                <span class="item-label">{{clst.closureDate}} ({{clst.stageName}})</span>&nbsp;
                                                <span class="item-label" style="color: black;"><b>{{clst.total}}</b></span>&nbsp;
                                                <span class="item-label"> inactive {{clst.lastActivity| amTimeAgo}} </span>
                                            </div>
                                            <span class="item-status">
                                                <span class="badge badge-empty badge-success"></span> &nbsp;{{clst.mileStone}} ({{clst.stage}} %)
                                                <span  *ngIf="clst.stared == true" style="cursor: pointer;"  data-placement="top" tooltip="Starred">
                                                    <i class="fa fa-star" style="color: yellow;" aria-hidden="true"></i>
                                                </span>
                                            </span>                                                                                                                       
                                        </div> 
                                        <div class="item-body"> <b>{{clst.inquiryName}}</b> <b class="font-green-haze">{{clst.company}}</b> {{clst.remarks}} </div>
                                    </div>
                        </div>
                    </div>
                    <div *ngIf="clsdata == 3">
                        <!-- BEGIN: Comments -->
                        <div class="general-item-list">
                                <div *ngFor="let mlst of Closure.thisMonthClosureInquiry" class="item">
                                        <div class="item-head">
                                            <div class="item-details">
                                                <img class="item-pic rounded" src="{{path+mlst.salesManImage}}">
                                                <a (click) = "GotoLead(mlst)" class="item-name primary-link">{{mlst.subMmissionId}}</a>
                                                <span class="item-label">{{mlst.closureDate}} ({{mlst.stageName}})</span>&nbsp;
                                                <span class="item-label" style="color: black;"><b>{{mlst.total}}</b></span>&nbsp;
                                                <span class="item-label"> inactive {{mlst.lastActivity| amTimeAgo}} </span>
                                            </div>
                                            <span class="item-status">
                                                <span class="badge badge-empty badge-success"></span> &nbsp;{{mlst.mileStone}} ({{mlst.stage}} %)
                                                <span  *ngIf="mlst.stared == true" style="cursor: pointer;"  data-placement="top" tooltip="Starred">
                                                    <i class="fa fa-star" style="color: yellow;" aria-hidden="true"></i>
                                                </span>
                                            </span>                                                                                                                       
                                        </div> 
                                        <div class="item-body"> <b>{{mlst.inquiryName}}</b> <b class="font-green-haze">{{mlst.company}}</b> {{mlst.remarks}} </div>
                                    </div>
                        </div>
                    </div>
                    <div *ngIf="clsdata == 4">
                            <!-- BEGIN: Comments -->
                            <div class="general-item-list">
                                    <div *ngFor="let over of Closure.overDueClosureInquiry" class="item">
                                            <div class="item-head">
                                                <div class="item-details">
                                                    <img class="item-pic rounded" src="{{path+over.salesManImage}}">
                                                    <a (click) = "GotoLead(over)" class="item-name primary-link">{{over.subMmissionId}}</a>
                                                    <span class="item-label">{{over.closureDate}} ({{over.stageName}})</span>&nbsp;
                                                    <span class="item-label" style="color: black;"><b>{{over.total}}</b></span>&nbsp;
                                                    <span class="item-label"> inactive {{over.lastActivity| amTimeAgo}} </span>
                                                    
                                                </div>
                                                <span class="item-status">
                                                    <span class="badge badge-empty badge-success"></span> &nbsp;{{over.mileStone}} ({{over.stage}} %)
                                                    <span  *ngIf="over.stared == true" style="cursor: pointer;"  data-placement="top" tooltip="Starred">
                                                        <i class="fa fa-star" style="color: yellow;" aria-hidden="true"></i>
                                                    </span>
                                                </span>                                                                                                                       
                                            </div> 
                                            <div class="item-body"> <b>{{over.inquiryName}}</b> <b class="font-green-haze">{{over.company}}</b> {{over.remarks}} </div>
                                        </div>
                            </div>
                    </div>
                </div>
            </div>
        </div>
</div>
<div class="col-md-6">
    <!-- BEGIN PORTLET-->
    <div class="portlet light">
        <div class="portlet-title">
            <div class="caption caption-md">
                <i class="icon-bar-chart font-green-haze hide"></i>
                <span class="caption-subject font-green-haze bold uppercase">Upcoming Activities
                    </span>
            </div>
            
        </div>
        
        <div id="style-4" class="portlet-body scrollab">
            <div *ngIf="Activity.overDueActivityInquiry?.length > 0" class="item-body item-body1"> <b>Over Due  <span class="caption-subject font-green-haze bold uppercase"> ({{Activity.overDueActivityInquiry?.length}}) : {{Activity.overDueValue}} AED</span></b><hr></div>         
            <div class=" table-scrollable table-scrollable-borderless">                                          
                    <div class=" col-md-12 m-timeline-2">
                            <div class="m-timeline-2__items  m--padding-top-25 m--padding-bottom-30">                                                      
                                <div *ngFor="let oact of Activity.overDueActivityInquiry" class="m-timeline-2__item">
                                    <span class="m-timeline-2__item-time" style="width: 80px;">{{oact.closureDate}}</span>                                                           	
                                    <div class="m-timeline-2__item-cricle">									 
                                        <i class="fa fa-genderless m--font-danger"></i>									 
                                    </div>
                                    <div class="m-timeline-2__item-text  m--padding-top-5">
                                      <a (click) = "GotoLead(oact)" class="item-name primary-link">{{oact.subMmissionId}}</a>
                                       <b>{{oact.inquiryName}}</b> &nbsp; <span style="color: #c0c9cc;" class="item-label"> inactive {{oact.lastActivity| amTimeAgo}} </span><br>

                                        {{oact.remarks}}        
                                        <img width="20" *ngIf="oact.salesManImage" height="20" class="item-pic rounded" src="{{path+oact.salesManImage}}">
                                        <img width="20" *ngIf="oact.coordinatorImage" height="20" class="item-pic rounded" src="{{path+oact.coordinatorImage}}">
                                        <img width="20" *ngIf="oact.designerImage" height="20" class="item-pic rounded" src="{{path+oact.designerImage}}"> &nbsp; 
                                        <span class="item-status">
                                            <span class="badge badge-empty badge-danger"></span> &nbsp;
                                            <span class="item-label" style="color: black;"><b>{{oact.total}}</b></span>&nbsp;
                                            &nbsp;{{oact.mileStone}} ({{oact.stage}} %)</span>                                                                                                   
                                    </div>
                                </div>
                                                                                                     
                            </div>
                    </div>
            </div>
            <div *ngIf="Activity.thisWeekActivityInquiry?.length > 0" class="item-body item-body1"> <b>Today <span class="caption-subject font-green-haze bold uppercase"> ({{Activity.thisWeekActivityInquiry?.length}}) : {{Activity.thisweekValue}} AED</span></b><hr></div>         
            <div class=" table-scrollable table-scrollable-borderless">                                          
                    <div class=" col-md-12 m-timeline-2">
                            <div class="m-timeline-2__items  m--padding-top-25 m--padding-bottom-30">                                                      
                                    <div *ngFor="let tact of Activity.thisWeekActivityInquiry" class="m-timeline-2__item">
                                            <span class="m-timeline-2__item-time" style="width: 80px;">{{tact.closureDate}}</span>                                                              
                                            <div class="m-timeline-2__item-cricle">                                  
                                                    <i class="fa fa-genderless m--font-warning"></i>                                     
                                            </div>
                                            <div class="m-timeline-2__item-text  m--padding-top-5">
                                              <a  (click)="GotoLead(tact)" class="item-name primary-link">{{tact.subMmissionId}}</a>
                                               <b>{{tact.inquiryName}}</b>&nbsp; <span style="color: #c0c9cc;" class="item-label"> inactive {{tact.lastActivity| amTimeAgo}} </span><br>
                                                {{tact.remarks}}  
                                                <img width="20" *ngIf="tact.salesManImage" height="20" class="item-pic rounded" src="{{path+tact.salesManImage}}">
                                                <img width="20" *ngIf="tact.coordinatorImage" height="20" class="item-pic rounded" src="{{path+tact.coordinatorImage}}">
                                                <img width="20" *ngIf="tact.designerImage" height="20" class="item-pic rounded" src="{{path+tact.designerImage}}">&nbsp;  
                                                <span class="item-status">
                                                    <span class="badge badge-empty badge-danger"></span> &nbsp;
                                                    <span class="item-label" style="color: black;"><b>{{tact.total}}</b></span>&nbsp;
                                                    &nbsp;{{tact.mileStone}} ({{tact.stage}} %)</span>    
                                            </div>
                                        </div>
                                                                                                     
                            </div>
                    </div>
            </div>
            <div *ngIf="Activity.nextWeekActivityInquiry?.length > 0" class="item-body item-body2"> <b>Next Day <span class="caption-subject font-green-haze bold uppercase"> ({{Activity.nextWeekActivityInquiry?.length}}) : {{Activity.nextWeekValue}} AED</span></b><hr></div>         
            <div class=" table-scrollable table-scrollable-borderless">                                          
                    <div class=" col-md-12 m-timeline-2">
                            <div class="m-timeline-2__items  m--padding-top-25 m--padding-bottom-30">                                                      
                                
                                    <div *ngFor="let nact of Activity.nextWeekActivityInquiry" class="m-timeline-2__item">
                                            <span class="m-timeline-2__item-time" style="width: 80px;">{{nact.closureDate}}</span>                                                           	
                                            <div class="m-timeline-2__item-cricle">									 
                                                    <i class="fa fa-genderless m--font-brand"></i>									 
                                                </div>
                                            <div class="m-timeline-2__item-text  m--padding-top-5">
                                              <a (click) = "GotoLead(nact)" class="item-name primary-link">{{nact.subMmissionId}}</a>
                                               <b>{{nact.inquiryName}}</b>&nbsp; <span style="color: #c0c9cc;" class="item-label"> inactive {{nact.lastActivity| amTimeAgo}} </span><br>
                                                {{nact.remarks}}  
                                                <img width="20" *ngIf="nact.salesManImage" height="20" class="item-pic rounded" src="{{path+nact.salesManImage}}">
                                                <img width="20" *ngIf="nact.coordinatorImage" height="20" class="item-pic rounded" src="{{path+nact.coordinatorImage}}">
                                                <img width="20" *ngIf="nact.designerImage" height="20" class="item-pic rounded" src="{{path+nact.designerImage}}">  &nbsp;  
                                                <span class="item-status">
                                                    <span class="badge badge-empty badge-danger"></span> &nbsp;
                                                    <span class="item-label" style="color: black;"><b>{{nact.total}}</b></span>&nbsp;
                                                    &nbsp;{{nact.mileStone}} ({{nact.stage}} %)</span>                                          	                                	               
                                            </div>
                                        </div>                                                               
                            </div>
                    </div>
            </div>
        </div>
    </div>
    <!-- END PORTLET-->
</div>
</div>
<div class="row">
    <div class="col-md-6">
                        <!-- BEGIN PORTLET-->
                        <div class="portlet light ">
                            <div class="portlet-title">
                                <div class="caption caption-md">
                                    <i class="icon-bar-chart font-green-haze hide"></i>
                                    <span class="caption-subject font-green-haze bold uppercase">Lead Summary Graph</span>
                                </div>
                    
                            </div>
                            <div class="portlet-body">
                    
                                <div class="table-scrollable table-scrollable-borderless">
                                    <chart type="Chart" [options]="lsgoption"></chart>
                                </div>
                            </div>
                        </div>
                        <!-- END PORTLET-->
    </div>
    <div class="col-md-6">
                            <!-- BEGIN PORTLET-->
                            <div class="portlet light ">
                                <div class="portlet-title">
                                    <div class="caption caption-md">
                                        <i class="icon-bar-chart font-green-haze hide"></i>
                                        <span class="caption-subject font-green-haze bold uppercase">Lost Reason Graph</span>
                                    </div>
                        
                                </div>
                                <div class="portlet-body">
                        
                                    <div class="table-scrollable table-scrollable-borderless">
                                        <chart type="Chart" [options]="lrgoption"></chart>
                                    </div>
                                </div>
                            </div>
                            <!-- END PORTLET-->
    </div>
</div>
</div>
